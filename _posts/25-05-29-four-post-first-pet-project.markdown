---
layout: post
title:  "My 1st pet-project"
description: Round-Robin
date:   2020-05-25 22:58 +0530
---
### Why would I do something like that?

Hello everyone! 

My next activity is working on a pet-project. 

In this case, I have only one goal to start creating my own project. It sounds like this 

### "Start doing it!"

Seriously, I almost don't do my own project. Time to fix it! 

I believe that this will help me:

- Learn to solve problems I didn't know about before
- Learn more about technology
- Increase motivation to work
- Work better with kpi and time management

### Description of project
I implemented the round-robin algorithm in the desktop application.

More about the algorithm you can see on the [wikipedia](https://en.wikipedia.org/wiki/Round-robin)

Also, I like this tutorial for better understanding where it is used [youtube channel](https://www.youtube.com/watch?v=TxjIlNYRZ5M)

##### Step 1. Made a development plan
<img src="https://rocket47.github.io/roundrobinplan.jpeg" alt="alt text" width="700"/>

##### Step 2. Time to create a UI
<img src="https://rocket47.github.io/MainFormUI.png" alt="alt text" width="700"/>

##### Step 3. Add settings form. Implement default mode. 
<img src="https://rocket47.github.io/SettingsForm.png" alt="alt text" width="350"/>

##### Data storage is implemented in a standard way. Save in the app.config.xml file.
<img src="https://rocket47.github.io/AppSettings.png" alt="alt text" width="600"/>

##### Step 4. Create timer

Every tick (1 second) functions are called

<img src="https://rocket47.github.io/Timer.png" alt="alt text" width="500"/>

##### Step 5. Create listview fill logic

After selecting the "NEW" button, random names and tasks are generated by parameters according to the round-robin principle

- 1st worker => task 1
- 2nd worker => task 2
- 3rd worker => task 3
- ...
- 1st worker => task (n+1)

<img src="https://rocket47.github.io/ListView1.png" alt="alt text" width="1000"/>
 
When timer is triggered, a function that redistributes the tasks of employees is activated with a 50% probability 

<img src="https://rocket47.github.io/ListView2.png" alt="alt text" width="1000"/>

#### The algorithm is modeled cyclically until all tasks are completed

<img src="https://rocket47.github.io/ListView3.png" alt="alt text" width="1000"/>

##### Function to generate names of employees
   
    public string GenerateNameWorker()
        {
            Random r = new Random();
            int len = r.Next(4, 10);
            string[] consonants = { "b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "l", "n", "p", "q", "r", "s", "sh", "zh", "t", "v", "w", "x" };
            string[] vowels = { "a", "e", "i", "o", "u", "ae", "y" };
            string Name = "";
            Name += consonants[r.Next(consonants.Length)].ToUpper();
            Name += vowels[r.Next(vowels.Length)];
            int timeLetterAdded = 2; 
            while (timeLetterAdded < len)
            {
                Name += consonants[r.Next(consonants.Length)];
                timeLetterAdded++;
                Name += vowels[r.Next(vowels.Length)];
                timeLetterAdded++;
            }
            return Name;
        }
        
##### I would like to create function without creating names first. I thought it would be interesting.  This is why the implementation is like this.

##### Step 6. Add button pause. When the button is pressed, the timer remains

<img src="https://rocket47.github.io/ButtonPause.png" alt="alt text" width="500"/>

##### Notes.

- Separately, I would like to say about the flicker problem in listview. This solution solved my life! I hope it will be useful for you:
```
listview
.GetType()
.GetProperty("DoubleBuffered", System.Reflection.BindingFlags.Instance | 		
System.Reflection.BindingFlags.NonPublic)
.SetValue(listview, true, null);
```
- One of my next goals is to understand multithreading. 

I didn't use it in this project. It's terrible. The main UI thread is blocked when generating random names and tasks. Moving on!

##### Thank you for the attention! You can try to install msi and just test tool.
[release v1.0](https://github.com/Rocket47/learn_Csharp_practice/releases/tag/v1.0 )
